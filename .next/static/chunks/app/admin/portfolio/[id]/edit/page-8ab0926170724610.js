(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{63:(e,t,r)=>{"use strict";r.r(t);var n=r(7260),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},2478:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(5155),i=r(2115),a=r(63),l=r(4033),s=r(2619),o=r.n(s);let d=["salla","websites","branding","marketing","app"];function p(){let e=(0,a.useRouter)(),t=(0,a.useParams)().id,[r,s]=(0,i.useState)(!0),[p,c]=(0,i.useState)(!1),[x,g]=(0,i.useState)(""),[h,u]=(0,i.useState)({nameAr:"",nameEn:"",descriptionAr:"",descriptionEn:"",category:"salla",image:"",url:"",featured:!1,order:0});(0,i.useEffect)(()=>{fetch("/api/projects/".concat(t)).then(e=>e.json()).then(e=>{e.project&&u({nameAr:e.project.nameAr||"",nameEn:e.project.nameEn||"",descriptionAr:e.project.descriptionAr||"",descriptionEn:e.project.descriptionEn||"",category:e.project.category||"salla",image:e.project.image||"",url:e.project.url||"",featured:e.project.featured||!1,order:e.project.order||0}),s(!1)}).catch(()=>{g("فشل تحميل المشروع"),s(!1)})},[t]);let m=(e,t)=>{u(r=>({...r,[e]:t}))},y=async r=>{if(r.preventDefault(),!h.nameAr||!h.image)return void g("اسم المشروع والصورة مطلوبان");c(!0);try{if(!(await fetch("/api/projects/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok)throw Error("فشل الحفظ");e.push("/admin/portfolio")}catch(e){g("حدث خطأ أثناء الحفظ"),c(!1)}},f={width:"100%",background:"#0A0A0A",border:"1px solid rgba(200,169,98,0.2)",color:"#FAFAF7",padding:"12px 16px",fontSize:"14px",fontFamily:"Noto Sans Arabic, sans-serif",outline:"none",boxSizing:"border-box"},j={display:"block",color:"#8C8C7A",fontSize:"11px",fontFamily:"Space Mono",letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:"8px"};return r?(0,n.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#0A0A0A"},children:[(0,n.jsx)(l.default,{active:"portfolio"}),(0,n.jsx)("main",{style:{flex:1,padding:"40px",marginRight:"260px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)("p",{style:{color:"#8C8C7A",fontFamily:"Space Mono"},children:"جاري التحميل..."})})]}):(0,n.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#0A0A0A"},children:[(0,n.jsx)(l.default,{active:"portfolio"}),(0,n.jsxs)("main",{style:{flex:1,padding:"40px",marginRight:"260px"},children:[(0,n.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,n.jsx)(o(),{href:"/admin/portfolio",style:{color:"#8C8C7A",fontFamily:"Space Mono",fontSize:"12px",textDecoration:"none",display:"block",marginBottom:"8px"},children:"← العودة للمشاريع"}),(0,n.jsx)("h1",{style:{fontFamily:"Noto Kufi Arabic",fontSize:"28px",fontWeight:700,color:"#FAFAF7"},children:"تعديل المشروع"})]}),x&&(0,n.jsx)("div",{style:{background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",color:"#ef4444",padding:"12px 16px",marginBottom:"24px",fontFamily:"Noto Sans Arabic",fontSize:"14px"},children:x}),(0,n.jsxs)("form",{onSubmit:y,children:[(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"24px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:j,children:"اسم المشروع (عربي) *"}),(0,n.jsx)("input",{style:f,value:h.nameAr,onChange:e=>m("nameAr",e.target.value),required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:j,children:"Project Name (English)"}),(0,n.jsx)("input",{style:f,value:h.nameEn,onChange:e=>m("nameEn",e.target.value)})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"24px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:j,children:"الوصف (عربي)"}),(0,n.jsx)("textarea",{style:{...f,minHeight:"100px",resize:"vertical"},value:h.descriptionAr,onChange:e=>m("descriptionAr",e.target.value)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:j,children:"Description (English)"}),(0,n.jsx)("textarea",{style:{...f,minHeight:"100px",resize:"vertical"},value:h.descriptionEn,onChange:e=>m("descriptionEn",e.target.value)})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"24px",marginBottom:"24px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:j,children:"الفئة"}),(0,n.jsx)("select",{style:f,value:h.category,onChange:e=>m("category",e.target.value),children:d.map(e=>(0,n.jsx)("option",{value:e,children:e},e))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:j,children:"رابط الموقع"}),(0,n.jsx)("input",{style:f,value:h.url,onChange:e=>m("url",e.target.value),type:"url",placeholder:"https://..."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:j,children:"الترتيب"}),(0,n.jsx)("input",{style:f,value:h.order,onChange:e=>m("order",parseInt(e.target.value)||0),type:"number",min:"0"})]})]}),(0,n.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,n.jsx)("label",{style:j,children:"رابط الصورة *"}),(0,n.jsx)("input",{style:f,value:h.image,onChange:e=>m("image",e.target.value),required:!0}),h.image&&(0,n.jsx)("div",{style:{marginTop:"12px"},children:(0,n.jsx)("img",{src:h.image,alt:"Preview",style:{height:"200px",width:"100%",objectFit:"cover"},onError:e=>e.currentTarget.style.display="none"})})]}),(0,n.jsx)("div",{style:{marginBottom:"40px"},children:(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[(0,n.jsx)("input",{type:"checkbox",checked:h.featured,onChange:e=>m("featured",e.target.checked),style:{width:"18px",height:"18px",accentColor:"#C8A962"}}),(0,n.jsx)("span",{style:{color:"#FAFAF7",fontFamily:"Noto Sans Arabic",fontSize:"14px"},children:"مشروع مميز"})]})}),(0,n.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,n.jsx)("button",{type:"submit",disabled:p,className:"btn-primary",style:{opacity:p?.7:1,cursor:p?"not-allowed":"pointer"},children:p?"جاري الحفظ...":"حفظ التغييرات"}),(0,n.jsx)(o(),{href:"/admin/portfolio",style:{padding:"14px 32px",background:"transparent",border:"1px solid rgba(255,255,255,0.1)",color:"#8C8C7A",fontFamily:"Space Mono",fontSize:"13px",letterSpacing:"0.08em",textTransform:"uppercase",textDecoration:"none",display:"inline-flex",alignItems:"center"},children:"إلغاء"})]})]})]})]})}},4033:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(5155),i=r(2619),a=r.n(i),l=r(63);let s=[{href:"/admin/dashboard",icon:"\uD83C\uDFE0",label:"الرئيسية"},{href:"/admin/articles",icon:"\uD83D\uDCC4",label:"المقالات"},{href:"/admin/portfolio",icon:"\uD83D\uDCBC",label:"الأعمال"},{href:"/admin/messages",icon:"\uD83D\uDCE8",label:"الرسائل",badge:!0},{href:"/admin/settings",icon:"⚙️",label:"الإعدادات"}];function o(){let{active:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.usePathname)(),r=(0,l.useRouter)(),i=async()=>{await fetch("/api/auth/login",{method:"DELETE"}),r.push("/admin")};return(0,n.jsxs)("aside",{className:"admin-sidebar is-open",style:{display:"flex",flexDirection:"column"},children:[(0,n.jsxs)("div",{style:{padding:"24px 24px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[(0,n.jsx)("div",{style:{fontFamily:"Noto Kufi Arabic, sans-serif",fontSize:"20px",fontWeight:800,color:"#C8A962"},children:"وكالة رقمية"}),(0,n.jsx)("div",{style:{fontFamily:"Space Mono, monospace",fontSize:"10px",letterSpacing:"0.2em",textTransform:"uppercase",color:"rgba(200,169,98,0.4)",marginTop:"2px"},children:"ADMIN PANEL"})]}),(0,n.jsx)("nav",{style:{flex:1,padding:"16px 12px",overflow:"auto"},children:s.map(e=>{let r=t===e.href;return(0,n.jsx)(a(),{href:e.href,style:{textDecoration:"none",display:"block",marginBottom:"4px"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:r?"rgba(200,169,98,0.12)":"transparent",borderRight:r?"2px solid #C8A962":"2px solid transparent",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:e=>{r||(e.currentTarget.style.background="rgba(255,255,255,0.04)")},onMouseLeave:e=>{r||(e.currentTarget.style.background="transparent")},children:[(0,n.jsx)("span",{style:{fontSize:"16px"},children:e.icon}),(0,n.jsx)("span",{style:{fontFamily:"Noto Sans Arabic, sans-serif",fontSize:"14px",color:r?"#C8A962":"#8C8C7A",fontWeight:r?600:400},children:e.label})]})},e.href)})}),(0,n.jsx)("div",{style:{padding:"16px 12px",borderTop:"1px solid rgba(255,255,255,0.06)"},children:(0,n.jsxs)("button",{onClick:i,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",width:"100%",background:"transparent",border:"none",cursor:"pointer",borderRadius:0},onMouseEnter:e=>{e.currentTarget.style.background="rgba(201,64,64,0.1)"},onMouseLeave:e=>{e.currentTarget.style.background="transparent"},children:[(0,n.jsx)("span",{style:{fontSize:"16px"},children:"\uD83D\uDEAA"}),(0,n.jsx)("span",{style:{fontFamily:"Noto Sans Arabic",fontSize:"14px",color:"#8C8C7A"},children:"تسجيل الخروج"})]})})]})}},9204:(e,t,r)=>{Promise.resolve().then(r.bind(r,2478))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=9204)),_N_E=e.O()}]);