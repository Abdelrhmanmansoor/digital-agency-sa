(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{63:(e,t,r)=>{"use strict";r.r(t);var i=r(7260),a={};for(let e in i)"default"!==e&&(a[e]=()=>i[e]);r.d(t,a)},1659:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var i=r(5155),a=r(2115),n=r(63),l=r(4033),s=r(2619),o=r.n(s);let c=["سلة","تسويق","تصميم","SEO","تقنية","عام"];function d(){let e=(0,n.useRouter)(),t=(0,n.useParams)().id,[r,s]=(0,a.useState)(!0),[d,p]=(0,a.useState)(!1),[x,g]=(0,a.useState)(""),[h,u]=(0,a.useState)({titleAr:"",titleEn:"",excerptAr:"",excerptEn:"",contentAr:"",contentEn:"",category:"سلة",image:"",status:"draft",metaTitle:"",metaDescription:""});(0,a.useEffect)(()=>{fetch("/api/articles/".concat(t)).then(e=>e.json()).then(e=>{e.article&&u({titleAr:e.article.titleAr||"",titleEn:e.article.titleEn||"",excerptAr:e.article.excerptAr||"",excerptEn:e.article.excerptEn||"",contentAr:e.article.contentAr||"",contentEn:e.article.contentEn||"",category:e.article.category||"سلة",image:e.article.image||"",status:e.article.status||"draft",metaTitle:e.article.metaTitle||"",metaDescription:e.article.metaDescription||""}),s(!1)}).catch(()=>{g("فشل تحميل المقال"),s(!1)})},[t]);let m=(e,t)=>{u(r=>({...r,[e]:t}))},y=async r=>{if(!h.titleAr)return void g("العنوان بالعربية مطلوب");p(!0);try{if(!(await fetch("/api/articles/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,status:r,publishedAt:"published"===r?new Date().toISOString():void 0})})).ok)throw Error("فشل الحفظ");e.push("/admin/articles")}catch(e){g("حدث خطأ أثناء الحفظ"),p(!1)}},f={width:"100%",background:"#0A0A0A",border:"1px solid rgba(200,169,98,0.2)",color:"#FAFAF7",padding:"12px 16px",fontSize:"14px",fontFamily:"Noto Sans Arabic, sans-serif",outline:"none",boxSizing:"border-box"},b={display:"block",color:"#8C8C7A",fontSize:"11px",fontFamily:"Space Mono",letterSpacing:"0.1em",textTransform:"uppercase",marginBottom:"8px"};return r?(0,i.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#0A0A0A"},children:[(0,i.jsx)(l.default,{active:"articles"}),(0,i.jsx)("main",{style:{flex:1,padding:"40px",marginRight:"260px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)("p",{style:{color:"#8C8C7A",fontFamily:"Space Mono"},children:"جاري التحميل..."})})]}):(0,i.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#0A0A0A"},children:[(0,i.jsx)(l.default,{active:"articles"}),(0,i.jsxs)("main",{style:{flex:1,padding:"40px",marginRight:"260px"},children:[(0,i.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,i.jsx)(o(),{href:"/admin/articles",style:{color:"#8C8C7A",fontFamily:"Space Mono",fontSize:"12px",textDecoration:"none",display:"block",marginBottom:"8px"},children:"← العودة للمقالات"}),(0,i.jsx)("h1",{style:{fontFamily:"Noto Kufi Arabic",fontSize:"28px",fontWeight:700,color:"#FAFAF7"},children:"تعديل المقال"})]}),x&&(0,i.jsx)("div",{style:{background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",color:"#ef4444",padding:"12px 16px",marginBottom:"24px",fontFamily:"Noto Sans Arabic",fontSize:"14px"},children:x}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"24px"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:b,children:"العنوان (عربي) *"}),(0,i.jsx)("input",{style:f,value:h.titleAr,onChange:e=>m("titleAr",e.target.value),placeholder:"عنوان المقال",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:b,children:"Title (English)"}),(0,i.jsx)("input",{style:f,value:h.titleEn,onChange:e=>m("titleEn",e.target.value),placeholder:"Article title"})]})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"24px"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:b,children:"المقتطف (عربي)"}),(0,i.jsx)("textarea",{style:{...f,minHeight:"80px",resize:"vertical"},value:h.excerptAr,onChange:e=>m("excerptAr",e.target.value),placeholder:"وصف مختصر للمقال"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:b,children:"Excerpt (English)"}),(0,i.jsx)("textarea",{style:{...f,minHeight:"80px",resize:"vertical"},value:h.excerptEn,onChange:e=>m("excerptEn",e.target.value),placeholder:"Short article description"})]})]}),(0,i.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,i.jsx)("label",{style:b,children:"المحتوى (عربي) — HTML"}),(0,i.jsx)("textarea",{style:{...f,minHeight:"200px",resize:"vertical",direction:"rtl"},value:h.contentAr,onChange:e=>m("contentAr",e.target.value),placeholder:"<p>محتوى المقال...</p>"})]}),(0,i.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,i.jsx)("label",{style:b,children:"Content (English) — HTML"}),(0,i.jsx)("textarea",{style:{...f,minHeight:"200px",resize:"vertical"},value:h.contentEn,onChange:e=>m("contentEn",e.target.value),placeholder:"<p>Article content...</p>"})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"24px",marginBottom:"24px"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:b,children:"الفئة"}),(0,i.jsx)("select",{style:f,value:h.category,onChange:e=>m("category",e.target.value),children:c.map(e=>(0,i.jsx)("option",{value:e,children:e},e))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:b,children:"Meta Title"}),(0,i.jsx)("input",{style:f,value:h.metaTitle,onChange:e=>m("metaTitle",e.target.value),placeholder:"SEO title"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:b,children:"Meta Description"}),(0,i.jsx)("input",{style:f,value:h.metaDescription,onChange:e=>m("metaDescription",e.target.value),placeholder:"SEO description"})]})]}),(0,i.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,i.jsx)("label",{style:b,children:"رابط الصورة"}),(0,i.jsx)("input",{style:f,value:h.image,onChange:e=>m("image",e.target.value),placeholder:"https://images.unsplash.com/..."}),h.image&&(0,i.jsx)("div",{style:{marginTop:"12px"},children:(0,i.jsx)("img",{src:h.image,alt:"Preview",style:{height:"180px",objectFit:"cover",display:"block"},onError:e=>e.currentTarget.style.display="none"})})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,i.jsx)("button",{onClick:()=>y("published"),disabled:d,className:"btn-primary",style:{opacity:d?.7:1,cursor:d?"not-allowed":"pointer"},children:d?"جاري الحفظ...":"حفظ ونشر"}),(0,i.jsx)("button",{onClick:()=>y("draft"),disabled:d,style:{padding:"14px 32px",background:"transparent",border:"1px solid rgba(200,169,98,0.3)",color:"#C8A962",fontFamily:"Space Mono",fontSize:"13px",letterSpacing:"0.08em",textTransform:"uppercase",cursor:d?"not-allowed":"pointer",opacity:d?.7:1},children:"حفظ كمسودة"}),(0,i.jsx)(o(),{href:"/admin/articles",style:{padding:"14px 32px",background:"transparent",border:"1px solid rgba(255,255,255,0.1)",color:"#8C8C7A",fontFamily:"Space Mono",fontSize:"13px",letterSpacing:"0.08em",textTransform:"uppercase",textDecoration:"none",display:"inline-flex",alignItems:"center"},children:"إلغاء"})]})]})]})}},4033:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var i=r(5155),a=r(2619),n=r.n(a),l=r(63);let s=[{href:"/admin/dashboard",icon:"\uD83C\uDFE0",label:"الرئيسية"},{href:"/admin/articles",icon:"\uD83D\uDCC4",label:"المقالات"},{href:"/admin/portfolio",icon:"\uD83D\uDCBC",label:"الأعمال"},{href:"/admin/messages",icon:"\uD83D\uDCE8",label:"الرسائل",badge:!0},{href:"/admin/settings",icon:"⚙️",label:"الإعدادات"}];function o(){let{active:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.usePathname)(),r=(0,l.useRouter)(),a=async()=>{await fetch("/api/auth/login",{method:"DELETE"}),r.push("/admin")};return(0,i.jsxs)("aside",{className:"admin-sidebar is-open",style:{display:"flex",flexDirection:"column"},children:[(0,i.jsxs)("div",{style:{padding:"24px 24px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[(0,i.jsx)("div",{style:{fontFamily:"Noto Kufi Arabic, sans-serif",fontSize:"20px",fontWeight:800,color:"#C8A962"},children:"وكالة رقمية"}),(0,i.jsx)("div",{style:{fontFamily:"Space Mono, monospace",fontSize:"10px",letterSpacing:"0.2em",textTransform:"uppercase",color:"rgba(200,169,98,0.4)",marginTop:"2px"},children:"ADMIN PANEL"})]}),(0,i.jsx)("nav",{style:{flex:1,padding:"16px 12px",overflow:"auto"},children:s.map(e=>{let r=t===e.href;return(0,i.jsx)(n(),{href:e.href,style:{textDecoration:"none",display:"block",marginBottom:"4px"},children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:r?"rgba(200,169,98,0.12)":"transparent",borderRight:r?"2px solid #C8A962":"2px solid transparent",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:e=>{r||(e.currentTarget.style.background="rgba(255,255,255,0.04)")},onMouseLeave:e=>{r||(e.currentTarget.style.background="transparent")},children:[(0,i.jsx)("span",{style:{fontSize:"16px"},children:e.icon}),(0,i.jsx)("span",{style:{fontFamily:"Noto Sans Arabic, sans-serif",fontSize:"14px",color:r?"#C8A962":"#8C8C7A",fontWeight:r?600:400},children:e.label})]})},e.href)})}),(0,i.jsx)("div",{style:{padding:"16px 12px",borderTop:"1px solid rgba(255,255,255,0.06)"},children:(0,i.jsxs)("button",{onClick:a,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",width:"100%",background:"transparent",border:"none",cursor:"pointer",borderRadius:0},onMouseEnter:e=>{e.currentTarget.style.background="rgba(201,64,64,0.1)"},onMouseLeave:e=>{e.currentTarget.style.background="transparent"},children:[(0,i.jsx)("span",{style:{fontSize:"16px"},children:"\uD83D\uDEAA"}),(0,i.jsx)("span",{style:{fontFamily:"Noto Sans Arabic",fontSize:"14px",color:"#8C8C7A"},children:"تسجيل الخروج"})]})})]})}},5491:(e,t,r)=>{Promise.resolve().then(r.bind(r,1659))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=5491)),_N_E=e.O()}]);